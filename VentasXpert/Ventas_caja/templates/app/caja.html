{% extends 'base.html' %}
{% load static %}

{% block title %}Caja - VentasXpert{% endblock %}
{% block options %}
    <a href="#">Caja</a>
    <a href="#">Informacion</a>
    <a href="#">Inventario</a>
{% endblock %}

{% block content %}
<!-- Estilos -->
{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/caja.css' %}">
{% endblock %}
<div style="display: flex;">
    <div style="flex: 2;">
        <div class="TituloTablaC">
            <h2 style="flex: 1;">Lista de productos a cobrar</h2>
            <form class="BuscarProducto-cajero">
                <div class="buscarProductoInput">
                    <input type="text" name="q" placeholder="Buscar producto...">
                    <button type="submit"><i class="bi bi-search"></i></button>
                </div>
            </form>
        </div>
        <table class="Productos-Caja">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Subtotal</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Producto 1</td>
                    <td>$100.00</td>
                    <td>2</td>
                    <td>$200.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 2</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 3</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 4</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 5</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 5</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 5</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
                <tr>
                    <td>Producto 5</td>
                    <td>$50.00</td>
                    <td>1</td>
                    <td>$50.00</td>
                    <td>
                        <button><i class="bi bi-plus"></i></button>
                        <button><i class="bi bi-dash"></i></button>
                        <button><i class="bi bi-trash3-fill"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div style="flex: 1; margin-left: 20px;">
        <div class="VentaActual">
            <h2>Información de la Venta</h2>
            <div class="marco-VentaActual">
                <p>Total de productos: 3</p>
                <p>Costo total de los productos: $300</p>
                <p>IVA calculado: $10</p>
                <p>Descuento: no aplica</p>
                <div>
                    <h4 class="espaciadoVenta">Total a pagar: $250.00</h4>
                    <div class="checkbox_section">
                        <input type="checkbox" id="imprimir_ticket" name="imprimir_ticket">
                        <label for="imprimir_ticket">Imprimir ticket</label>
                    </div>
                </div>
            </div>
            <button data-bs-toggle="modal" data-bs-target="#confirmacionVentaModal">
                Finalizar Venta
            </button>
        </div>
    </div>
</div>

<div class="seccionInvetario">
    <div class="TituloTablaC">
        <h2 style="flex: 1;">Inventario disponible</h2>
        <form class="BuscarProducto-cajero">
            <div class="buscarProductoInput">
                <input type="text" name="q" placeholder="Buscar producto...">
                <button type="submit"><i class="bi bi-search"></i></button>
            </div>
        </form>
    </div>
    <table>
        <thead>
            <tr>
                <th>Producto</th>
                <th>Precio</th>
                <th>Cantidad</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Producto 1 jbdjkadjkdhjakdh</td>
                <td>$100.00</td>
                <td>2</td>
            </tr>
            <tr>
                <td>Producto 2</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 3</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 4</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 5</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 5</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 5</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
            <tr>
                <td>Producto 5</td>
                <td>$50.00</td>
                <td>1</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Modales  -->
<div class="modal fade" id="confirmacionVentaModal" tabindex="-1" aria-labelledby="confirmacionVentaModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmacionVentaModalLabel">¿Confirmar cobro?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Total de productos: 3</p>
                <p>Costo total de los productos: $300</p>
                <p>IVA calculado: $10</p>
                <p>Descuento: no aplica</p>
                <div>
                    <h4 class="espaciadoVenta">Total a pagar: $250.00</h4>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#cobro_exitoso">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="cobro_exitoso" tabindex="-1" aria-labelledby="cobro_exitosoLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="cobro_exitosoLabel">Cobro exitoso</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Se ha realizado el cobro exitosamente.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Aceptar</button>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#ticket_generado">Ver Ticket</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ticket_generado" tabindex="-1" aria-labelledby="ticket_generadoLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="ticket_generadoLabel">Ticket generado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Plantilla del ticket -->
                <div class="ticket-container">
                    <div class="ticket-header">
                        <h4>VentasXpert</h4>
                        <p>Fecha: <span id="ticket-date">2024-10-04</span></p>
                        <p>Ticket #: <span id="ticket-number">12345</span></p>
                    </div>
                    <div class="ticket-body">
                        <table class="ticket-table">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>Cantidad</th>
                                    <th>Precio</th>
                                    <th>Subtotal</th>
                                </tr>
                            </thead>
                            <tbody id="ticket-items">
                                <!-- Detalles de los productos -->
                                <tr>
                                    <td>Producto 1</td>
                                    <td>2</td>
                                    <td>$100.00</td>
                                    <td>$200.00</td>
                                </tr>
                                <tr>
                                    <td>Producto 2</td>
                                    <td>1</td>
                                    <td>$50.00</td>
                                    <td>$50.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="ticket-footer">
                        <p>Total: $250.00</p>
                        <p>IVA: $10.00</p>
                        <p>Total a pagar: $260.00</p>
                    </div>
                </div>
                <!-- Fin de la plantilla -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Aceptar</button>
                <button type="button" class="btn btn-primary">Imprimir</button>
            </div>
        </div>
    </div>
</div>


{% endblock %}
